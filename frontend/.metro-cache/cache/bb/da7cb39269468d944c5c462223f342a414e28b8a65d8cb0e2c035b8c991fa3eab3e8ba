{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":42,"index":202}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)({});\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    const [showOnboarding, setShowOnboarding] = (0, _react.useState)(false);\n    (0, _react.useEffect)(() => {\n      loadStoredData();\n    }, []);\n    async function loadStoredData() {\n      try {\n        const storedUser = await AsyncStorage.default.getItem('user');\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const onboardingCompleted = await AsyncStorage.default.getItem('onboardingCompleted');\n        if (storedUser && storedToken) {\n          setUser(JSON.parse(storedUser));\n\n          // Afficher l'onboarding si pas encore complété\n          if (!onboardingCompleted) {\n            setShowOnboarding(true);\n          }\n        }\n      } catch (error) {\n        console.error('Erreur chargement données:', error);\n      } finally {\n        setLoading(false);\n      }\n    }\n    const completeOnboarding = () => {\n      setShowOnboarding(false);\n    };\n    async function signIn(email, password) {\n      try {\n        const response = await _servicesApi.authAPI.login(email, password);\n        const {\n          token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.message || 'Erreur de connexion');\n      }\n    }\n    async function signUp(email, password, name) {\n      try {\n        const response = await _servicesApi.authAPI.register(email, password, name);\n        const {\n          token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.message || 'Erreur d\\'inscription');\n      }\n    }\n    async function signOut() {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      setUser(null);\n    }\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        showOnboarding,\n        completeOnboarding,\n        signIn,\n        signUp,\n        signOut\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }, this);\n  };\n  function useAuth() {\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth doit être utilisé dans AuthProvider');\n    }\n    return context;\n  }\n});","lineCount":114,"map":[[13,2,23,0,"Object"],[13,8,23,0],[13,9,23,0,"defineProperty"],[13,23,23,0],[13,24,23,0,"exports"],[13,31,23,0],[14,4,23,0,"enumerable"],[14,14,23,0],[15,4,23,0,"get"],[15,7,23,0],[15,18,23,0,"get"],[15,19,23,0],[16,6,23,0],[16,13,23,0,"AuthProvider"],[16,25,23,0],[17,4,23,0],[18,2,23,0],[19,2,96,0,"exports"],[19,9,96,0],[19,10,96,0,"useAuth"],[19,17,96,0],[19,20,96,0,"useAuth"],[19,27,96,0],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,2,0],[21,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,42,2,0],[21,45,2,0,"require"],[21,52,2,0],[21,53,2,0,"_dependencyMap"],[21,67,2,0],[22,2,2,0],[22,6,2,0,"AsyncStorage"],[22,18,2,0],[22,21,2,0,"_interopDefault"],[22,36,2,0],[22,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[22,73,2,0],[23,2,3,0],[23,6,3,0,"_servicesApi"],[23,18,3,0],[23,21,3,0,"require"],[23,28,3,0],[23,29,3,0,"_dependencyMap"],[23,43,3,0],[24,2,3,42],[24,6,3,42,"_reactJsxDevRuntime"],[24,25,3,42],[24,28,3,42,"require"],[24,35,3,42],[24,36,3,42,"_dependencyMap"],[24,50,3,42],[25,2,21,0],[25,8,21,6,"AuthContext"],[25,19,21,17],[25,35,21,20],[25,39,21,20,"createContext"],[25,45,21,33],[25,46,21,33,"createContext"],[25,59,21,33],[25,61,21,51],[25,62,21,52],[25,63,21,72],[25,64,21,73],[26,2,23,7],[26,8,23,13,"AuthProvider"],[26,20,23,60],[26,23,23,63,"AuthProvider"],[26,24,23,64],[27,4,23,66,"children"],[28,2,23,75],[28,3,23,76],[28,8,23,81],[29,4,24,2],[29,10,24,8],[29,11,24,9,"user"],[29,15,24,13],[29,17,24,15,"setUser"],[29,24,24,22],[29,25,24,23],[29,28,24,26],[29,32,24,26,"useState"],[29,38,24,34],[29,39,24,34,"useState"],[29,47,24,34],[29,49,24,48],[29,53,24,52],[29,54,24,53],[30,4,25,2],[30,10,25,8],[30,11,25,9,"loading"],[30,18,25,16],[30,20,25,18,"setLoading"],[30,30,25,28],[30,31,25,29],[30,34,25,32],[30,38,25,32,"useState"],[30,44,25,40],[30,45,25,40,"useState"],[30,53,25,40],[30,55,25,41],[30,59,25,45],[30,60,25,46],[31,4,26,2],[31,10,26,8],[31,11,26,9,"showOnboarding"],[31,25,26,23],[31,27,26,25,"setShowOnboarding"],[31,44,26,42],[31,45,26,43],[31,48,26,46],[31,52,26,46,"useState"],[31,58,26,54],[31,59,26,54,"useState"],[31,67,26,54],[31,69,26,55],[31,74,26,60],[31,75,26,61],[32,4,28,2],[32,8,28,2,"useEffect"],[32,14,28,11],[32,15,28,11,"useEffect"],[32,24,28,11],[32,26,28,12],[32,32,28,18],[33,6,29,4,"loadStoredData"],[33,20,29,18],[33,21,29,19],[33,22,29,20],[34,4,30,2],[34,5,30,3],[34,7,30,5],[34,9,30,7],[34,10,30,8],[35,4,32,2],[35,19,32,17,"loadStoredData"],[35,33,32,31,"loadStoredData"],[35,34,32,31],[35,36,32,34],[36,6,33,4],[36,10,33,8],[37,8,34,6],[37,14,34,12,"storedUser"],[37,24,34,22],[37,27,34,25],[37,33,34,31,"AsyncStorage"],[37,45,34,43],[37,46,34,43,"default"],[37,53,34,43],[37,54,34,44,"getItem"],[37,61,34,51],[37,62,34,52],[37,68,34,58],[37,69,34,59],[38,8,35,6],[38,14,35,12,"storedToken"],[38,25,35,23],[38,28,35,26],[38,34,35,32,"AsyncStorage"],[38,46,35,44],[38,47,35,44,"default"],[38,54,35,44],[38,55,35,45,"getItem"],[38,62,35,52],[38,63,35,53],[38,70,35,60],[38,71,35,61],[39,8,36,6],[39,14,36,12,"onboardingCompleted"],[39,33,36,31],[39,36,36,34],[39,42,36,40,"AsyncStorage"],[39,54,36,52],[39,55,36,52,"default"],[39,62,36,52],[39,63,36,53,"getItem"],[39,70,36,60],[39,71,36,61],[39,92,36,82],[39,93,36,83],[40,8,38,6],[40,12,38,10,"storedUser"],[40,22,38,20],[40,26,38,24,"storedToken"],[40,37,38,35],[40,39,38,37],[41,10,39,8,"setUser"],[41,17,39,15],[41,18,39,16,"JSON"],[41,22,39,20],[41,23,39,21,"parse"],[41,28,39,26],[41,29,39,27,"storedUser"],[41,39,39,37],[41,40,39,38],[41,41,39,39],[43,10,41,8],[44,10,42,8],[44,14,42,12],[44,15,42,13,"onboardingCompleted"],[44,34,42,32],[44,36,42,34],[45,12,43,10,"setShowOnboarding"],[45,29,43,27],[45,30,43,28],[45,34,43,32],[45,35,43,33],[46,10,44,8],[47,8,45,6],[48,6,46,4],[48,7,46,5],[48,8,46,6],[48,15,46,13,"error"],[48,20,46,18],[48,22,46,20],[49,8,47,6,"console"],[49,15,47,13],[49,16,47,14,"error"],[49,21,47,19],[49,22,47,20],[49,50,47,48],[49,52,47,50,"error"],[49,57,47,55],[49,58,47,56],[50,6,48,4],[50,7,48,5],[50,16,48,14],[51,8,49,6,"setLoading"],[51,18,49,16],[51,19,49,17],[51,24,49,22],[51,25,49,23],[52,6,50,4],[53,4,51,2],[54,4,53,2],[54,10,53,8,"completeOnboarding"],[54,28,53,26],[54,31,53,29,"completeOnboarding"],[54,32,53,29],[54,37,53,35],[55,6,54,4,"setShowOnboarding"],[55,23,54,21],[55,24,54,22],[55,29,54,27],[55,30,54,28],[56,4,55,2],[56,5,55,3],[57,4,57,2],[57,19,57,17,"signIn"],[57,25,57,23,"signIn"],[57,26,57,24,"email"],[57,31,57,37],[57,33,57,39,"password"],[57,41,57,55],[57,43,57,57],[58,6,58,4],[58,10,58,8],[59,8,59,6],[59,14,59,12,"response"],[59,22,59,20],[59,25,59,23],[59,31,59,29,"authAPI"],[59,43,59,36],[59,44,59,36,"authAPI"],[59,51,59,36],[59,52,59,37,"login"],[59,57,59,42],[59,58,59,43,"email"],[59,63,59,48],[59,65,59,50,"password"],[59,73,59,58],[59,74,59,59],[60,8,60,6],[60,14,60,12],[61,10,60,14,"token"],[61,15,60,19],[62,10,60,21,"user"],[62,14,60,25],[62,16,60,27,"userData"],[63,8,60,36],[63,9,60,37],[63,12,60,40,"response"],[63,20,60,48],[63,21,60,49,"data"],[63,25,60,53],[64,8,62,6],[64,14,62,12,"AsyncStorage"],[64,26,62,24],[64,27,62,24,"default"],[64,34,62,24],[64,35,62,25,"setItem"],[64,42,62,32],[64,43,62,33],[64,50,62,40],[64,52,62,42,"token"],[64,57,62,47],[64,58,62,48],[65,8,63,6],[65,14,63,12,"AsyncStorage"],[65,26,63,24],[65,27,63,24,"default"],[65,34,63,24],[65,35,63,25,"setItem"],[65,42,63,32],[65,43,63,33],[65,49,63,39],[65,51,63,41,"JSON"],[65,55,63,45],[65,56,63,46,"stringify"],[65,65,63,55],[65,66,63,56,"userData"],[65,74,63,64],[65,75,63,65],[65,76,63,66],[66,8,64,6,"setUser"],[66,15,64,13],[66,16,64,14,"userData"],[66,24,64,22],[66,25,64,23],[67,6,65,4],[67,7,65,5],[67,8,65,6],[67,15,65,13,"error"],[67,20,65,23],[67,22,65,25],[68,8,66,6],[68,14,66,12],[68,18,66,16,"Error"],[68,23,66,21],[68,24,66,22,"error"],[68,29,66,27],[68,30,66,28,"response"],[68,38,66,36],[68,40,66,38,"data"],[68,44,66,42],[68,46,66,44,"message"],[68,53,66,51],[68,57,66,55],[68,78,66,76],[68,79,66,77],[69,6,67,4],[70,4,68,2],[71,4,70,2],[71,19,70,17,"signUp"],[71,25,70,23,"signUp"],[71,26,70,24,"email"],[71,31,70,37],[71,33,70,39,"password"],[71,41,70,55],[71,43,70,57,"name"],[71,47,70,69],[71,49,70,71],[72,6,71,4],[72,10,71,8],[73,8,72,6],[73,14,72,12,"response"],[73,22,72,20],[73,25,72,23],[73,31,72,29,"authAPI"],[73,43,72,36],[73,44,72,36,"authAPI"],[73,51,72,36],[73,52,72,37,"register"],[73,60,72,45],[73,61,72,46,"email"],[73,66,72,51],[73,68,72,53,"password"],[73,76,72,61],[73,78,72,63,"name"],[73,82,72,67],[73,83,72,68],[74,8,73,6],[74,14,73,12],[75,10,73,14,"token"],[75,15,73,19],[76,10,73,21,"user"],[76,14,73,25],[76,16,73,27,"userData"],[77,8,73,36],[77,9,73,37],[77,12,73,40,"response"],[77,20,73,48],[77,21,73,49,"data"],[77,25,73,53],[78,8,75,6],[78,14,75,12,"AsyncStorage"],[78,26,75,24],[78,27,75,24,"default"],[78,34,75,24],[78,35,75,25,"setItem"],[78,42,75,32],[78,43,75,33],[78,50,75,40],[78,52,75,42,"token"],[78,57,75,47],[78,58,75,48],[79,8,76,6],[79,14,76,12,"AsyncStorage"],[79,26,76,24],[79,27,76,24,"default"],[79,34,76,24],[79,35,76,25,"setItem"],[79,42,76,32],[79,43,76,33],[79,49,76,39],[79,51,76,41,"JSON"],[79,55,76,45],[79,56,76,46,"stringify"],[79,65,76,55],[79,66,76,56,"userData"],[79,74,76,64],[79,75,76,65],[79,76,76,66],[80,8,77,6,"setUser"],[80,15,77,13],[80,16,77,14,"userData"],[80,24,77,22],[80,25,77,23],[81,6,78,4],[81,7,78,5],[81,8,78,6],[81,15,78,13,"error"],[81,20,78,23],[81,22,78,25],[82,8,79,6],[82,14,79,12],[82,18,79,16,"Error"],[82,23,79,21],[82,24,79,22,"error"],[82,29,79,27],[82,30,79,28,"response"],[82,38,79,36],[82,40,79,38,"data"],[82,44,79,42],[82,46,79,44,"message"],[82,53,79,51],[82,57,79,55],[82,80,79,78],[82,81,79,79],[83,6,80,4],[84,4,81,2],[85,4,83,2],[85,19,83,17,"signOut"],[85,26,83,24,"signOut"],[85,27,83,24],[85,29,83,27],[86,6,84,4],[86,12,84,10,"AsyncStorage"],[86,24,84,22],[86,25,84,22,"default"],[86,32,84,22],[86,33,84,23,"removeItem"],[86,43,84,33],[86,44,84,34],[86,51,84,41],[86,52,84,42],[87,6,85,4],[87,12,85,10,"AsyncStorage"],[87,24,85,22],[87,25,85,22,"default"],[87,32,85,22],[87,33,85,23,"removeItem"],[87,43,85,33],[87,44,85,34],[87,50,85,40],[87,51,85,41],[88,6,86,4,"setUser"],[88,13,86,11],[88,14,86,12],[88,18,86,16],[88,19,86,17],[89,4,87,2],[90,4,89,2],[90,24,90,4],[90,28,90,4,"_reactJsxDevRuntime"],[90,47,90,4],[90,48,90,4,"jsxDEV"],[90,54,90,4],[90,56,90,5,"AuthContext"],[90,67,90,16],[90,68,90,17,"Provider"],[90,76,90,25],[91,6,90,26,"value"],[91,11,90,31],[91,13,90,33],[92,8,90,35,"user"],[92,12,90,39],[93,8,90,41,"loading"],[93,15,90,48],[94,8,90,50,"showOnboarding"],[94,22,90,64],[95,8,90,66,"completeOnboarding"],[95,26,90,84],[96,8,90,86,"signIn"],[96,14,90,92],[97,8,90,94,"signUp"],[97,14,90,100],[98,8,90,102,"signOut"],[99,6,90,110],[99,7,90,112],[100,6,90,112,"children"],[100,14,90,112],[100,16,91,7,"children"],[101,4,91,15],[102,6,91,15,"fileName"],[102,14,91,15],[102,16,91,15,"_jsxFileName"],[102,28,91,15],[103,6,91,15,"lineNumber"],[103,16,91,15],[104,6,91,15,"columnNumber"],[104,18,91,15],[105,4,91,15],[105,11,92,26],[105,12,92,27],[106,2,94,0],[106,3,94,1],[107,2,96,7],[107,11,96,16,"useAuth"],[107,18,96,23,"useAuth"],[107,19,96,23],[107,21,96,26],[108,4,97,2],[108,10,97,8,"context"],[108,17,97,15],[108,20,97,18],[108,24,97,18,"useContext"],[108,30,97,28],[108,31,97,28,"useContext"],[108,41,97,28],[108,43,97,29,"AuthContext"],[108,54,97,40],[108,55,97,41],[109,4,98,2],[109,8,98,6],[109,9,98,7,"context"],[109,16,98,14],[109,18,98,16],[110,6,99,4],[110,12,99,10],[110,16,99,14,"Error"],[110,21,99,19],[110,22,99,20],[110,67,99,65],[110,68,99,66],[111,4,100,2],[112,4,101,2],[112,11,101,9,"context"],[112,18,101,16],[113,2,102,0],[114,0,102,1],[114,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredData","completeOnboarding","signIn","signUp","signOut","useAuth"],"mappings":"AAA;+DCsB;YCK;GDE;EEE;GFmB;6BGE;GHE;EIE;GJW;EKE;GLW;EME;GNI;CDO;OQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}