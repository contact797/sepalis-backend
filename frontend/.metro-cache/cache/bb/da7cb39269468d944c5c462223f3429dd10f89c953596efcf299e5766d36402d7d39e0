{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":42,"index":202}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)({});\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredData();\n    }, []);\n    async function loadStoredData() {\n      try {\n        const storedUser = await AsyncStorage.default.getItem('user');\n        const storedToken = await AsyncStorage.default.getItem('token');\n        if (storedUser && storedToken) {\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Erreur chargement données:', error);\n      } finally {\n        setLoading(false);\n      }\n    }\n    async function signIn(email, password) {\n      try {\n        const response = await _servicesApi.authAPI.login(email, password);\n        const {\n          token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.message || 'Erreur de connexion');\n      }\n    }\n    async function signUp(email, password, name) {\n      try {\n        const response = await _servicesApi.authAPI.register(email, password, name);\n        const {\n          token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.message || 'Erreur d\\'inscription');\n      }\n    }\n    async function signOut() {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      setUser(null);\n    }\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        signIn,\n        signUp,\n        signOut\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }, this);\n  };\n  function useAuth() {\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth doit être utilisé dans AuthProvider');\n    }\n    return context;\n  }\n});","lineCount":102,"map":[[13,2,21,0,"Object"],[13,8,21,0],[13,9,21,0,"defineProperty"],[13,23,21,0],[13,24,21,0,"exports"],[13,31,21,0],[14,4,21,0,"enumerable"],[14,14,21,0],[15,4,21,0,"get"],[15,7,21,0],[15,18,21,0,"get"],[15,19,21,0],[16,6,21,0],[16,13,21,0,"AuthProvider"],[16,25,21,0],[17,4,21,0],[18,2,21,0],[19,2,83,0,"exports"],[19,9,83,0],[19,10,83,0,"useAuth"],[19,17,83,0],[19,20,83,0,"useAuth"],[19,27,83,0],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,2,0],[21,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,42,2,0],[21,45,2,0,"require"],[21,52,2,0],[21,53,2,0,"_dependencyMap"],[21,67,2,0],[22,2,2,0],[22,6,2,0,"AsyncStorage"],[22,18,2,0],[22,21,2,0,"_interopDefault"],[22,36,2,0],[22,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[22,73,2,0],[23,2,3,0],[23,6,3,0,"_servicesApi"],[23,18,3,0],[23,21,3,0,"require"],[23,28,3,0],[23,29,3,0,"_dependencyMap"],[23,43,3,0],[24,2,3,42],[24,6,3,42,"_reactJsxDevRuntime"],[24,25,3,42],[24,28,3,42,"require"],[24,35,3,42],[24,36,3,42,"_dependencyMap"],[24,50,3,42],[25,2,19,0],[25,8,19,6,"AuthContext"],[25,19,19,17],[25,35,19,20],[25,39,19,20,"createContext"],[25,45,19,33],[25,46,19,33,"createContext"],[25,59,19,33],[25,61,19,51],[25,62,19,52],[25,63,19,72],[25,64,19,73],[26,2,21,7],[26,8,21,13,"AuthProvider"],[26,20,21,60],[26,23,21,63,"AuthProvider"],[26,24,21,64],[27,4,21,66,"children"],[28,2,21,75],[28,3,21,76],[28,8,21,81],[29,4,22,2],[29,10,22,8],[29,11,22,9,"user"],[29,15,22,13],[29,17,22,15,"setUser"],[29,24,22,22],[29,25,22,23],[29,28,22,26],[29,32,22,26,"useState"],[29,38,22,34],[29,39,22,34,"useState"],[29,47,22,34],[29,49,22,48],[29,53,22,52],[29,54,22,53],[30,4,23,2],[30,10,23,8],[30,11,23,9,"loading"],[30,18,23,16],[30,20,23,18,"setLoading"],[30,30,23,28],[30,31,23,29],[30,34,23,32],[30,38,23,32,"useState"],[30,44,23,40],[30,45,23,40,"useState"],[30,53,23,40],[30,55,23,41],[30,59,23,45],[30,60,23,46],[31,4,25,2],[31,8,25,2,"useEffect"],[31,14,25,11],[31,15,25,11,"useEffect"],[31,24,25,11],[31,26,25,12],[31,32,25,18],[32,6,26,4,"loadStoredData"],[32,20,26,18],[32,21,26,19],[32,22,26,20],[33,4,27,2],[33,5,27,3],[33,7,27,5],[33,9,27,7],[33,10,27,8],[34,4,29,2],[34,19,29,17,"loadStoredData"],[34,33,29,31,"loadStoredData"],[34,34,29,31],[34,36,29,34],[35,6,30,4],[35,10,30,8],[36,8,31,6],[36,14,31,12,"storedUser"],[36,24,31,22],[36,27,31,25],[36,33,31,31,"AsyncStorage"],[36,45,31,43],[36,46,31,43,"default"],[36,53,31,43],[36,54,31,44,"getItem"],[36,61,31,51],[36,62,31,52],[36,68,31,58],[36,69,31,59],[37,8,32,6],[37,14,32,12,"storedToken"],[37,25,32,23],[37,28,32,26],[37,34,32,32,"AsyncStorage"],[37,46,32,44],[37,47,32,44,"default"],[37,54,32,44],[37,55,32,45,"getItem"],[37,62,32,52],[37,63,32,53],[37,70,32,60],[37,71,32,61],[38,8,34,6],[38,12,34,10,"storedUser"],[38,22,34,20],[38,26,34,24,"storedToken"],[38,37,34,35],[38,39,34,37],[39,10,35,8,"setUser"],[39,17,35,15],[39,18,35,16,"JSON"],[39,22,35,20],[39,23,35,21,"parse"],[39,28,35,26],[39,29,35,27,"storedUser"],[39,39,35,37],[39,40,35,38],[39,41,35,39],[40,8,36,6],[41,6,37,4],[41,7,37,5],[41,8,37,6],[41,15,37,13,"error"],[41,20,37,18],[41,22,37,20],[42,8,38,6,"console"],[42,15,38,13],[42,16,38,14,"error"],[42,21,38,19],[42,22,38,20],[42,50,38,48],[42,52,38,50,"error"],[42,57,38,55],[42,58,38,56],[43,6,39,4],[43,7,39,5],[43,16,39,14],[44,8,40,6,"setLoading"],[44,18,40,16],[44,19,40,17],[44,24,40,22],[44,25,40,23],[45,6,41,4],[46,4,42,2],[47,4,44,2],[47,19,44,17,"signIn"],[47,25,44,23,"signIn"],[47,26,44,24,"email"],[47,31,44,37],[47,33,44,39,"password"],[47,41,44,55],[47,43,44,57],[48,6,45,4],[48,10,45,8],[49,8,46,6],[49,14,46,12,"response"],[49,22,46,20],[49,25,46,23],[49,31,46,29,"authAPI"],[49,43,46,36],[49,44,46,36,"authAPI"],[49,51,46,36],[49,52,46,37,"login"],[49,57,46,42],[49,58,46,43,"email"],[49,63,46,48],[49,65,46,50,"password"],[49,73,46,58],[49,74,46,59],[50,8,47,6],[50,14,47,12],[51,10,47,14,"token"],[51,15,47,19],[52,10,47,21,"user"],[52,14,47,25],[52,16,47,27,"userData"],[53,8,47,36],[53,9,47,37],[53,12,47,40,"response"],[53,20,47,48],[53,21,47,49,"data"],[53,25,47,53],[54,8,49,6],[54,14,49,12,"AsyncStorage"],[54,26,49,24],[54,27,49,24,"default"],[54,34,49,24],[54,35,49,25,"setItem"],[54,42,49,32],[54,43,49,33],[54,50,49,40],[54,52,49,42,"token"],[54,57,49,47],[54,58,49,48],[55,8,50,6],[55,14,50,12,"AsyncStorage"],[55,26,50,24],[55,27,50,24,"default"],[55,34,50,24],[55,35,50,25,"setItem"],[55,42,50,32],[55,43,50,33],[55,49,50,39],[55,51,50,41,"JSON"],[55,55,50,45],[55,56,50,46,"stringify"],[55,65,50,55],[55,66,50,56,"userData"],[55,74,50,64],[55,75,50,65],[55,76,50,66],[56,8,51,6,"setUser"],[56,15,51,13],[56,16,51,14,"userData"],[56,24,51,22],[56,25,51,23],[57,6,52,4],[57,7,52,5],[57,8,52,6],[57,15,52,13,"error"],[57,20,52,23],[57,22,52,25],[58,8,53,6],[58,14,53,12],[58,18,53,16,"Error"],[58,23,53,21],[58,24,53,22,"error"],[58,29,53,27],[58,30,53,28,"response"],[58,38,53,36],[58,40,53,38,"data"],[58,44,53,42],[58,46,53,44,"message"],[58,53,53,51],[58,57,53,55],[58,78,53,76],[58,79,53,77],[59,6,54,4],[60,4,55,2],[61,4,57,2],[61,19,57,17,"signUp"],[61,25,57,23,"signUp"],[61,26,57,24,"email"],[61,31,57,37],[61,33,57,39,"password"],[61,41,57,55],[61,43,57,57,"name"],[61,47,57,69],[61,49,57,71],[62,6,58,4],[62,10,58,8],[63,8,59,6],[63,14,59,12,"response"],[63,22,59,20],[63,25,59,23],[63,31,59,29,"authAPI"],[63,43,59,36],[63,44,59,36,"authAPI"],[63,51,59,36],[63,52,59,37,"register"],[63,60,59,45],[63,61,59,46,"email"],[63,66,59,51],[63,68,59,53,"password"],[63,76,59,61],[63,78,59,63,"name"],[63,82,59,67],[63,83,59,68],[64,8,60,6],[64,14,60,12],[65,10,60,14,"token"],[65,15,60,19],[66,10,60,21,"user"],[66,14,60,25],[66,16,60,27,"userData"],[67,8,60,36],[67,9,60,37],[67,12,60,40,"response"],[67,20,60,48],[67,21,60,49,"data"],[67,25,60,53],[68,8,62,6],[68,14,62,12,"AsyncStorage"],[68,26,62,24],[68,27,62,24,"default"],[68,34,62,24],[68,35,62,25,"setItem"],[68,42,62,32],[68,43,62,33],[68,50,62,40],[68,52,62,42,"token"],[68,57,62,47],[68,58,62,48],[69,8,63,6],[69,14,63,12,"AsyncStorage"],[69,26,63,24],[69,27,63,24,"default"],[69,34,63,24],[69,35,63,25,"setItem"],[69,42,63,32],[69,43,63,33],[69,49,63,39],[69,51,63,41,"JSON"],[69,55,63,45],[69,56,63,46,"stringify"],[69,65,63,55],[69,66,63,56,"userData"],[69,74,63,64],[69,75,63,65],[69,76,63,66],[70,8,64,6,"setUser"],[70,15,64,13],[70,16,64,14,"userData"],[70,24,64,22],[70,25,64,23],[71,6,65,4],[71,7,65,5],[71,8,65,6],[71,15,65,13,"error"],[71,20,65,23],[71,22,65,25],[72,8,66,6],[72,14,66,12],[72,18,66,16,"Error"],[72,23,66,21],[72,24,66,22,"error"],[72,29,66,27],[72,30,66,28,"response"],[72,38,66,36],[72,40,66,38,"data"],[72,44,66,42],[72,46,66,44,"message"],[72,53,66,51],[72,57,66,55],[72,80,66,78],[72,81,66,79],[73,6,67,4],[74,4,68,2],[75,4,70,2],[75,19,70,17,"signOut"],[75,26,70,24,"signOut"],[75,27,70,24],[75,29,70,27],[76,6,71,4],[76,12,71,10,"AsyncStorage"],[76,24,71,22],[76,25,71,22,"default"],[76,32,71,22],[76,33,71,23,"removeItem"],[76,43,71,33],[76,44,71,34],[76,51,71,41],[76,52,71,42],[77,6,72,4],[77,12,72,10,"AsyncStorage"],[77,24,72,22],[77,25,72,22,"default"],[77,32,72,22],[77,33,72,23,"removeItem"],[77,43,72,33],[77,44,72,34],[77,50,72,40],[77,51,72,41],[78,6,73,4,"setUser"],[78,13,73,11],[78,14,73,12],[78,18,73,16],[78,19,73,17],[79,4,74,2],[80,4,76,2],[80,24,77,4],[80,28,77,4,"_reactJsxDevRuntime"],[80,47,77,4],[80,48,77,4,"jsxDEV"],[80,54,77,4],[80,56,77,5,"AuthContext"],[80,67,77,16],[80,68,77,17,"Provider"],[80,76,77,25],[81,6,77,26,"value"],[81,11,77,31],[81,13,77,33],[82,8,77,35,"user"],[82,12,77,39],[83,8,77,41,"loading"],[83,15,77,48],[84,8,77,50,"signIn"],[84,14,77,56],[85,8,77,58,"signUp"],[85,14,77,64],[86,8,77,66,"signOut"],[87,6,77,74],[87,7,77,76],[88,6,77,76,"children"],[88,14,77,76],[88,16,78,7,"children"],[89,4,78,15],[90,6,78,15,"fileName"],[90,14,78,15],[90,16,78,15,"_jsxFileName"],[90,28,78,15],[91,6,78,15,"lineNumber"],[91,16,78,15],[92,6,78,15,"columnNumber"],[92,18,78,15],[93,4,78,15],[93,11,79,26],[93,12,79,27],[94,2,81,0],[94,3,81,1],[95,2,83,7],[95,11,83,16,"useAuth"],[95,18,83,23,"useAuth"],[95,19,83,23],[95,21,83,26],[96,4,84,2],[96,10,84,8,"context"],[96,17,84,15],[96,20,84,18],[96,24,84,18,"useContext"],[96,30,84,28],[96,31,84,28,"useContext"],[96,41,84,28],[96,43,84,29,"AuthContext"],[96,54,84,40],[96,55,84,41],[97,4,85,2],[97,8,85,6],[97,9,85,7,"context"],[97,16,85,14],[97,18,85,16],[98,6,86,4],[98,12,86,10],[98,16,86,14,"Error"],[98,21,86,19],[98,22,86,20],[98,67,86,65],[98,68,86,66],[99,4,87,2],[100,4,88,2],[100,11,88,9,"context"],[100,18,88,16],[101,2,89,0],[102,0,89,1],[102,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredData","signIn","signUp","signOut","useAuth"],"mappings":"AAA;+DCoB;YCI;GDE;EEE;GFa;EGE;GHW;EIE;GJW;EKE;GLI;CDO;OOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}