{"dependencies":[{"name":"expo-notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"nrBDtkRVez7cBhLzyaRjl+xVfvE=","exportNames":["*"],"imports":1}},{"name":"expo-device","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":53},"end":{"line":2,"column":38,"index":91}}],"key":"bBpmAhO1g++sdeUzQmFVGoQIVwg=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":133},"end":{"line":4,"column":39,"index":172}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,_d){\"use strict\";function e(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"notificationService\",{enumerable:!0,get:function(){return u}});var t=e(r(_d[0])),n=e(r(_d[1]));r(_d[2]);var o,s=r(_d[3]),c=(o=s)&&o.__esModule?o:{default:o};t.setNotificationHandler({handleNotification:async()=>({shouldShowAlert:!0,shouldPlaySound:!0,shouldSetBadge:!0})});const u={async requestPermissions(){if(!n.isDevice)return console.log('Les notifications ne fonctionnent que sur un appareil physique'),!1;const{status:e}=await t.getPermissionsAsync();let o=e;if('granted'!==e){const{status:e}=await t.requestPermissionsAsync();o=e}return'granted'===o||(console.log('Permission de notification refus\\xe9e'),!1)},async getExpoPushToken(){try{if(!n.isDevice)return console.log('Les push tokens ne fonctionnent que sur un appareil physique'),null;const e=c.default.expoConfig?.extra?.eas?.projectId||'default-project',o=await t.getExpoPushTokenAsync({projectId:e});return console.log('Push token:',o.data),o.data}catch(e){return console.error('Erreur obtention push token:',e),null}},scheduleNotification:async(e,n,o,s)=>await t.scheduleNotificationAsync({content:{title:e,body:n,data:s,sound:!0},trigger:'number'==typeof o?{seconds:o}:o}),sendImmediateNotification:async(e,n,o)=>await t.scheduleNotificationAsync({content:{title:e,body:n,data:o,sound:!0},trigger:null}),async cancelNotification(e){await t.cancelScheduledNotificationAsync(e)},async cancelAllNotifications(){await t.cancelAllScheduledNotificationsAsync()},getScheduledNotifications:async()=>await t.getAllScheduledNotificationsAsync(),async setBadgeCount(e){},getBadgeCount:async()=>0,async scheduleDailyTaskReminder(e){const t=await this.getScheduledNotifications();for(const e of t)'task-reminder'===e.content.data?.type&&await this.cancelNotification(e.identifier);const n=new Date;n.setHours(0,0,0,0);for(const t of e)if(!t.completed&&t.dueDate){const e=new Date(t.dueDate);if(e.setHours(0,0,0,0),e.getTime()===n.getTime()){const e=new Date;e.setHours(9,0,0,0),e>new Date&&await this.scheduleNotification('\\ud83c\\udf31 T\\xe2che de jardinage',`N'oubliez pas : ${t.title}`,e,{type:'task-reminder',taskId:t.id})}}},async scheduleWeatherAlert(e){await this.sendImmediateNotification('\\ud83c\\udf24\\ufe0f Alerte m\\xe9t\\xe9o',e,{type:'weather-alert'})}}});","lineCount":1,"map":[[1,327,15,0,"Object"],[1,334,15,0,"defineProperty"],[1,349,15,0,"_e"],[1,352,15,0],[1,375,15,0,"enumerable"],[1,387,15,0],[1,389,15,0,"get"],[1,393,15,0],[1,411,15,0,"notificationService"],[1,412,15,0],[1,416,1,0],[1,420,1,0,"Notifications"],[1,422,1,0,"_interopNamespace"],[1,424,1,0,"r"],[1,426,1,0,"_d"],[1,429,1,0],[1,434,2,0,"Device"],[1,436,2,0,"_interopNamespace"],[1,438,2,0,"r"],[1,440,2,0,"_d"],[1,443,2,0],[1,448,2,38,"r"],[1,450,2,38,"_d"],[1,453,2,38],[1,457,4,0],[1,461],[1,463,4,0,"_expoConstants"],[1,465,4,0,"r"],[1,467,4,0,"_d"],[1,470,4,0],[1,474,4,0,"Constants"],[1,477],[1,479,4,0,"_expoConstants"],[1,483],[1,510,7,0,"Notifications"],[1,512,7,14,"setNotificationHandler"],[1,535,7,37],[1,536,8,2,"handleNotification"],[1,555,8,22,"async"],[1,565,8,22],[1,566,9,4,"shouldShowAlert"],[1,583,9,21],[1,585,10,4,"shouldPlaySound"],[1,602,10,21],[1,604,11,4,"shouldSetBadge"],[1,620,11,20],[1,626,15,7],[1,632,15,13,"notificationService"],[1,634,15,35],[1,635,19,2],[1,659,19,8,"requestPermissions"],[1,662,20,4],[1,666,20,9,"Device"],[1,668,20,16,"isDevice"],[1,677,22,6],[1,684,21,6,"console"],[1,692,21,14,"log"],[1,696,21,18],[1,763,22,13],[1,765,25,4],[1,771,25,12,"status"],[1,778,25,20,"existingStatus"],[1,787,25,45,"Notifications"],[1,789,25,59,"getPermissionsAsync"],[1,811,26,4],[1,815,26,8,"finalStatus"],[1,817,26,22,"existingStatus"],[1,819,28,4],[1,822,28,27],[1,834,28,8,"existingStatus"],[1,836,28,38],[1,837,29,6],[1,843,29,12,"status"],[1,850,29,14,"status"],[1,859,29,31,"Notifications"],[1,861,29,45,"requestPermissionsAsync"],[1,887,30,6,"finalStatus"],[1,889,30,20,"status"],[1,890,31,4],[1,891,33,4],[1,897,33,24],[1,909,33,8,"finalStatus"],[1,913,34,6,"console"],[1,921,34,14,"log"],[1,925,34,18],[1,967,35,13],[1,969,39,2],[1,971,44,2],[1,993,44,8,"getExpoPushToken"],[1,996,45,4],[1,1000,46,6],[1,1004,46,11,"Device"],[1,1006,46,18,"isDevice"],[1,1015,48,8],[1,1022,47,8,"console"],[1,1030,47,16,"log"],[1,1034,47,20],[1,1098,48,15],[1,1103,51,6],[1,1109,51,12,"projectId"],[1,1111,51,24,"Constants"],[1,1113,51,33,"default"],[1,1121,51,34,"expoConfig"],[1,1133,51,46,"extra"],[1,1140,51,53,"eas"],[1,1145,51,58,"projectId"],[1,1156,51,71],[1,1174,53,12,"token"],[1,1182,53,26,"Notifications"],[1,1184,53,40,"getExpoPushTokenAsync"],[1,1206,53,62],[1,1207,54,8,"projectId"],[1,1221,58,6],[1,1228,57,6,"console"],[1,1236,57,14,"log"],[1,1240,57,18],[1,1254,57,33,"token"],[1,1256,57,39,"data"],[1,1262,58,13,"token"],[1,1264,58,19,"data"],[1,1268,59,4],[1,1269,59,6],[1,1275,59,13,"error"],[1,1278,61,6],[1,1285,60,6,"console"],[1,1293,60,14,"error"],[1,1299,60,20],[1,1330,60,52,"error"],[1,1333,61,13],[1,1337,62,4],[1,1338,63,2],[1,1340,68,2,"async"],[1,1361,68,28,"scheduleNotification"],[1,1367,69,4,"title"],[1,1369,70,4,"body"],[1,1371,71,4,"trigger"],[1,1373,72,4,"data"],[1,1383,74,33,"Notifications"],[1,1385,74,47,"scheduleNotificationAsync"],[1,1411,74,73],[1,1412,75,6,"content"],[1,1420,75,15],[1,1421,76,8,"title"],[1,1429,77,8,"body"],[1,1436,78,8,"data"],[1,1443,79,8,"sound"],[1,1450,79,15],[1,1453,81,6,"trigger"],[1,1461,82,27],[1,1478,82,15,"trigger"],[1,1480,83,12],[1,1481,83,14,"seconds"],[1,1489,83,23,"trigger"],[1,1492,84,12,"trigger"],[1,1496,93,2,"async"],[1,1522,93,33,"sendImmediateNotification"],[1,1528,94,4,"title"],[1,1530,95,4,"body"],[1,1532,96,4,"data"],[1,1542,98,33,"Notifications"],[1,1544,98,47,"scheduleNotificationAsync"],[1,1570,98,73],[1,1571,99,6,"content"],[1,1579,99,15],[1,1580,100,8,"title"],[1,1588,101,8,"body"],[1,1595,102,8,"data"],[1,1602,103,8,"sound"],[1,1609,103,15],[1,1612,105,6,"trigger"],[1,1620,105,15],[1,1627,114,2],[1,1651,114,8,"cancelNotification"],[1,1652,114,27,"notificationId"],[1,1661,115,10,"Notifications"],[1,1663,115,24,"cancelScheduledNotificationAsync"],[1,1696,115,57,"notificationId"],[1,1698,116,2],[1,1700,121,2],[1,1728,121,8,"cancelAllNotifications"],[1,1737,122,10,"Notifications"],[1,1739,122,24,"cancelAllScheduledNotificationsAsync"],[1,1777,123,2],[1,1779,128,2,"async"],[1,1805,128,33,"getScheduledNotifications"],[1,1820,129,17,"Notifications"],[1,1822,129,31,"getAllScheduledNotificationsAsync"],[1,1858,135,2],[1,1877,135,8,"setBadgeCount"],[1,1878,135,22,"count"],[1,1881,139,2],[1,1883,144,2,"async"],[1,1897,144,21,"getBadgeCount"],[1,1906,148,11],[1,1908,154,2],[1,1939,154,8,"scheduleDailyTaskReminder"],[1,1940,154,34,"tasks"],[1,1943,156,4],[1,1949,156,10,"scheduled"],[1,1957,156,28,"this"],[1,1962,156,33,"getScheduledNotifications"],[1,1990,157,4],[1,1994,157,9],[1,2000,157,15,"notif"],[1,2005,157,24,"scheduled"],[1,2007,158,39],[1,2025,158,10,"notif"],[1,2027,158,16,"content"],[1,2035,158,24,"data"],[1,2041,158,30,"type"],[1,2053,159,14,"this"],[1,2058,159,19,"cancelNotification"],[1,2077,159,38,"notif"],[1,2079,159,44,"identifier"],[1,2091,164,4],[1,2097,164,10,"today"],[1,2099,164,18],[1,2103,164,22,"Date"],[1,2108,165,4,"today"],[1,2110,165,10,"setHours"],[1,2119,165,19],[1,2121,165,22],[1,2123,165,25],[1,2125,165,28],[1,2128,167,4],[1,2132,167,9],[1,2138,167,15,"task"],[1,2143,167,23,"tasks"],[1,2145,168,6],[1,2149,168,11,"task"],[1,2151,168,16,"completed"],[1,2162,168,29,"task"],[1,2164,168,34,"dueDate"],[1,2172,168,43],[1,2173,169,8],[1,2179,169,14,"dueDate"],[1,2181,169,24],[1,2185,169,28,"Date"],[1,2190,169,33,"task"],[1,2192,169,38,"dueDate"],[1,2201,173,8],[1,2204,170,8,"dueDate"],[1,2206,170,16,"setHours"],[1,2215,170,25],[1,2217,170,28],[1,2219,170,31],[1,2221,170,34],[1,2224,173,12,"dueDate"],[1,2226,173,20,"getTime"],[1,2238,173,34,"today"],[1,2240,173,40,"getTime"],[1,2250,173,51],[1,2251,175,10],[1,2257,175,16,"notificationTime"],[1,2259,175,35],[1,2263,175,39,"Date"],[1,2268,176,10,"notificationTime"],[1,2270,176,27,"setHours"],[1,2279,176,36],[1,2281,176,39],[1,2283,176,42],[1,2285,176,45],[1,2288,178,14,"notificationTime"],[1,2290,178,33],[1,2294,178,37,"Date"],[1,2306,179,18,"this"],[1,2311,179,23,"scheduleNotification"],[1,2332,180,14],[1,2369,181,14],[1,2388,181,33,"task"],[1,2390,181,38,"title"],[1,2398,182,14,"notificationTime"],[1,2400,183,14],[1,2401,183,16,"type"],[1,2406,183,22],[1,2422,183,39,"taskId"],[1,2429,183,47,"task"],[1,2431,183,52,"id"],[1,2435,186,8],[1,2436,187,6],[1,2437,189,2],[1,2439,194,2],[1,2465,194,8,"scheduleWeatherAlert"],[1,2466,194,29,"alert"],[1,2475,195,10,"this"],[1,2480,195,15,"sendImmediateNotification"],[1,2506,196,6],[1,2546,197,6,"alert"],[1,2548,198,6],[1,2549,198,8,"type"],[1,2554,198,14],[1,2571,200,2],[1,2573,201,2],[1,2576]],"functionMap":{"names":["<global>","Notifications.setNotificationHandler$argument_0.handleNotification","requestPermissions","getExpoPushToken","scheduleNotification","sendImmediateNotification","cancelNotification","cancelAllNotifications","getScheduledNotifications","setBadgeCount","getBadgeCount","scheduleDailyTaskReminder","scheduleWeatherAlert"],"mappings":"AAA;sBCO;IDI;EEO;GFoB;EGK;GHmB;EIK;GJoB;EKK;GLgB;EMK;GNE;EOK;GPE;EQK;GRE;ESK;GTI;EUK;GVK;EWK;GXmC;EYK;GZM"},"hasCjsExports":false},"type":"js/module"}]}