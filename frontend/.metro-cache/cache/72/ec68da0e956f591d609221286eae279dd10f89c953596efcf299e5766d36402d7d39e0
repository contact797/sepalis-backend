{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":42,"index":202}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)({});\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredData();\n    }, []);\n    async function loadStoredData() {\n      try {\n        const storedUser = await AsyncStorage.default.getItem('user');\n        const storedToken = await AsyncStorage.default.getItem('token');\n        if (storedUser && storedToken) {\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Erreur chargement données:', error);\n      } finally {\n        setLoading(false);\n      }\n    }\n    async function signIn(email, password) {\n      try {\n        const response = await _servicesApi.authAPI.login(email, password);\n        const {\n          token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.message || 'Erreur de connexion');\n      }\n    }\n    async function signUp(email, password, name) {\n      try {\n        const response = await _servicesApi.authAPI.register(email, password, name);\n        const {\n          token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.message || 'Erreur d\\'inscription');\n      }\n    }\n    async function signOut() {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      setUser(null);\n    }\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        signIn,\n        signUp,\n        signOut\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"NiO5z6JIqzX62LS5UWDgIqbZYyY=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth doit être utilisé dans AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":111,"map":[[15,2,21,0,"Object"],[15,8,21,0],[15,9,21,0,"defineProperty"],[15,23,21,0],[15,24,21,0,"exports"],[15,31,21,0],[16,4,21,0,"enumerable"],[16,14,21,0],[17,4,21,0,"get"],[17,7,21,0],[17,18,21,0,"get"],[17,19,21,0],[18,6,21,0],[18,13,21,0,"AuthProvider"],[18,25,21,0],[19,4,21,0],[20,2,21,0],[21,2,83,0,"exports"],[21,9,83,0],[21,10,83,0,"useAuth"],[21,17,83,0],[21,20,83,0,"useAuth"],[21,27,83,0],[22,2,1,0],[22,6,1,0,"_react"],[22,12,1,0],[22,15,1,0,"require"],[22,22,1,0],[22,23,1,0,"_dependencyMap"],[22,37,1,0],[23,2,2,0],[23,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[23,42,2,0],[23,45,2,0,"require"],[23,52,2,0],[23,53,2,0,"_dependencyMap"],[23,67,2,0],[24,2,2,0],[24,6,2,0,"AsyncStorage"],[24,18,2,0],[24,21,2,0,"_interopDefault"],[24,36,2,0],[24,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[24,73,2,0],[25,2,3,0],[25,6,3,0,"_servicesApi"],[25,18,3,0],[25,21,3,0,"require"],[25,28,3,0],[25,29,3,0,"_dependencyMap"],[25,43,3,0],[26,2,3,42],[26,6,3,42,"_reactJsxDevRuntime"],[26,25,3,42],[26,28,3,42,"require"],[26,35,3,42],[26,36,3,42,"_dependencyMap"],[26,50,3,42],[27,2,19,0],[27,8,19,6,"AuthContext"],[27,19,19,17],[27,35,19,20],[27,39,19,20,"createContext"],[27,45,19,33],[27,46,19,33,"createContext"],[27,59,19,33],[27,61,19,51],[27,62,19,52],[27,63,19,72],[27,64,19,73],[28,2,21,7],[28,8,21,13,"AuthProvider"],[28,20,21,60],[28,23,21,63,"AuthProvider"],[28,24,21,64],[29,4,21,66,"children"],[30,2,21,75],[30,3,21,76],[30,8,21,81],[31,4,21,81,"_s"],[31,6,21,81],[32,4,22,2],[32,10,22,8],[32,11,22,9,"user"],[32,15,22,13],[32,17,22,15,"setUser"],[32,24,22,22],[32,25,22,23],[32,28,22,26],[32,32,22,26,"useState"],[32,38,22,34],[32,39,22,34,"useState"],[32,47,22,34],[32,49,22,48],[32,53,22,52],[32,54,22,53],[33,4,23,2],[33,10,23,8],[33,11,23,9,"loading"],[33,18,23,16],[33,20,23,18,"setLoading"],[33,30,23,28],[33,31,23,29],[33,34,23,32],[33,38,23,32,"useState"],[33,44,23,40],[33,45,23,40,"useState"],[33,53,23,40],[33,55,23,41],[33,59,23,45],[33,60,23,46],[34,4,25,2],[34,8,25,2,"useEffect"],[34,14,25,11],[34,15,25,11,"useEffect"],[34,24,25,11],[34,26,25,12],[34,32,25,18],[35,6,26,4,"loadStoredData"],[35,20,26,18],[35,21,26,19],[35,22,26,20],[36,4,27,2],[36,5,27,3],[36,7,27,5],[36,9,27,7],[36,10,27,8],[37,4,29,2],[37,19,29,17,"loadStoredData"],[37,33,29,31,"loadStoredData"],[37,34,29,31],[37,36,29,34],[38,6,30,4],[38,10,30,8],[39,8,31,6],[39,14,31,12,"storedUser"],[39,24,31,22],[39,27,31,25],[39,33,31,31,"AsyncStorage"],[39,45,31,43],[39,46,31,43,"default"],[39,53,31,43],[39,54,31,44,"getItem"],[39,61,31,51],[39,62,31,52],[39,68,31,58],[39,69,31,59],[40,8,32,6],[40,14,32,12,"storedToken"],[40,25,32,23],[40,28,32,26],[40,34,32,32,"AsyncStorage"],[40,46,32,44],[40,47,32,44,"default"],[40,54,32,44],[40,55,32,45,"getItem"],[40,62,32,52],[40,63,32,53],[40,70,32,60],[40,71,32,61],[41,8,34,6],[41,12,34,10,"storedUser"],[41,22,34,20],[41,26,34,24,"storedToken"],[41,37,34,35],[41,39,34,37],[42,10,35,8,"setUser"],[42,17,35,15],[42,18,35,16,"JSON"],[42,22,35,20],[42,23,35,21,"parse"],[42,28,35,26],[42,29,35,27,"storedUser"],[42,39,35,37],[42,40,35,38],[42,41,35,39],[43,8,36,6],[44,6,37,4],[44,7,37,5],[44,8,37,6],[44,15,37,13,"error"],[44,20,37,18],[44,22,37,20],[45,8,38,6,"console"],[45,15,38,13],[45,16,38,14,"error"],[45,21,38,19],[45,22,38,20],[45,50,38,48],[45,52,38,50,"error"],[45,57,38,55],[45,58,38,56],[46,6,39,4],[46,7,39,5],[46,16,39,14],[47,8,40,6,"setLoading"],[47,18,40,16],[47,19,40,17],[47,24,40,22],[47,25,40,23],[48,6,41,4],[49,4,42,2],[50,4,44,2],[50,19,44,17,"signIn"],[50,25,44,23,"signIn"],[50,26,44,24,"email"],[50,31,44,37],[50,33,44,39,"password"],[50,41,44,55],[50,43,44,57],[51,6,45,4],[51,10,45,8],[52,8,46,6],[52,14,46,12,"response"],[52,22,46,20],[52,25,46,23],[52,31,46,29,"authAPI"],[52,43,46,36],[52,44,46,36,"authAPI"],[52,51,46,36],[52,52,46,37,"login"],[52,57,46,42],[52,58,46,43,"email"],[52,63,46,48],[52,65,46,50,"password"],[52,73,46,58],[52,74,46,59],[53,8,47,6],[53,14,47,12],[54,10,47,14,"token"],[54,15,47,19],[55,10,47,21,"user"],[55,14,47,25],[55,16,47,27,"userData"],[56,8,47,36],[56,9,47,37],[56,12,47,40,"response"],[56,20,47,48],[56,21,47,49,"data"],[56,25,47,53],[57,8,49,6],[57,14,49,12,"AsyncStorage"],[57,26,49,24],[57,27,49,24,"default"],[57,34,49,24],[57,35,49,25,"setItem"],[57,42,49,32],[57,43,49,33],[57,50,49,40],[57,52,49,42,"token"],[57,57,49,47],[57,58,49,48],[58,8,50,6],[58,14,50,12,"AsyncStorage"],[58,26,50,24],[58,27,50,24,"default"],[58,34,50,24],[58,35,50,25,"setItem"],[58,42,50,32],[58,43,50,33],[58,49,50,39],[58,51,50,41,"JSON"],[58,55,50,45],[58,56,50,46,"stringify"],[58,65,50,55],[58,66,50,56,"userData"],[58,74,50,64],[58,75,50,65],[58,76,50,66],[59,8,51,6,"setUser"],[59,15,51,13],[59,16,51,14,"userData"],[59,24,51,22],[59,25,51,23],[60,6,52,4],[60,7,52,5],[60,8,52,6],[60,15,52,13,"error"],[60,20,52,23],[60,22,52,25],[61,8,53,6],[61,14,53,12],[61,18,53,16,"Error"],[61,23,53,21],[61,24,53,22,"error"],[61,29,53,27],[61,30,53,28,"response"],[61,38,53,36],[61,40,53,38,"data"],[61,44,53,42],[61,46,53,44,"message"],[61,53,53,51],[61,57,53,55],[61,78,53,76],[61,79,53,77],[62,6,54,4],[63,4,55,2],[64,4,57,2],[64,19,57,17,"signUp"],[64,25,57,23,"signUp"],[64,26,57,24,"email"],[64,31,57,37],[64,33,57,39,"password"],[64,41,57,55],[64,43,57,57,"name"],[64,47,57,69],[64,49,57,71],[65,6,58,4],[65,10,58,8],[66,8,59,6],[66,14,59,12,"response"],[66,22,59,20],[66,25,59,23],[66,31,59,29,"authAPI"],[66,43,59,36],[66,44,59,36,"authAPI"],[66,51,59,36],[66,52,59,37,"register"],[66,60,59,45],[66,61,59,46,"email"],[66,66,59,51],[66,68,59,53,"password"],[66,76,59,61],[66,78,59,63,"name"],[66,82,59,67],[66,83,59,68],[67,8,60,6],[67,14,60,12],[68,10,60,14,"token"],[68,15,60,19],[69,10,60,21,"user"],[69,14,60,25],[69,16,60,27,"userData"],[70,8,60,36],[70,9,60,37],[70,12,60,40,"response"],[70,20,60,48],[70,21,60,49,"data"],[70,25,60,53],[71,8,62,6],[71,14,62,12,"AsyncStorage"],[71,26,62,24],[71,27,62,24,"default"],[71,34,62,24],[71,35,62,25,"setItem"],[71,42,62,32],[71,43,62,33],[71,50,62,40],[71,52,62,42,"token"],[71,57,62,47],[71,58,62,48],[72,8,63,6],[72,14,63,12,"AsyncStorage"],[72,26,63,24],[72,27,63,24,"default"],[72,34,63,24],[72,35,63,25,"setItem"],[72,42,63,32],[72,43,63,33],[72,49,63,39],[72,51,63,41,"JSON"],[72,55,63,45],[72,56,63,46,"stringify"],[72,65,63,55],[72,66,63,56,"userData"],[72,74,63,64],[72,75,63,65],[72,76,63,66],[73,8,64,6,"setUser"],[73,15,64,13],[73,16,64,14,"userData"],[73,24,64,22],[73,25,64,23],[74,6,65,4],[74,7,65,5],[74,8,65,6],[74,15,65,13,"error"],[74,20,65,23],[74,22,65,25],[75,8,66,6],[75,14,66,12],[75,18,66,16,"Error"],[75,23,66,21],[75,24,66,22,"error"],[75,29,66,27],[75,30,66,28,"response"],[75,38,66,36],[75,40,66,38,"data"],[75,44,66,42],[75,46,66,44,"message"],[75,53,66,51],[75,57,66,55],[75,80,66,78],[75,81,66,79],[76,6,67,4],[77,4,68,2],[78,4,70,2],[78,19,70,17,"signOut"],[78,26,70,24,"signOut"],[78,27,70,24],[78,29,70,27],[79,6,71,4],[79,12,71,10,"AsyncStorage"],[79,24,71,22],[79,25,71,22,"default"],[79,32,71,22],[79,33,71,23,"removeItem"],[79,43,71,33],[79,44,71,34],[79,51,71,41],[79,52,71,42],[80,6,72,4],[80,12,72,10,"AsyncStorage"],[80,24,72,22],[80,25,72,22,"default"],[80,32,72,22],[80,33,72,23,"removeItem"],[80,43,72,33],[80,44,72,34],[80,50,72,40],[80,51,72,41],[81,6,73,4,"setUser"],[81,13,73,11],[81,14,73,12],[81,18,73,16],[81,19,73,17],[82,4,74,2],[83,4,76,2],[83,24,77,4],[83,28,77,4,"_reactJsxDevRuntime"],[83,47,77,4],[83,48,77,4,"jsxDEV"],[83,54,77,4],[83,56,77,5,"AuthContext"],[83,67,77,16],[83,68,77,17,"Provider"],[83,76,77,25],[84,6,77,26,"value"],[84,11,77,31],[84,13,77,33],[85,8,77,35,"user"],[85,12,77,39],[86,8,77,41,"loading"],[86,15,77,48],[87,8,77,50,"signIn"],[87,14,77,56],[88,8,77,58,"signUp"],[88,14,77,64],[89,8,77,66,"signOut"],[90,6,77,74],[90,7,77,76],[91,6,77,76,"children"],[91,14,77,76],[91,16,78,7,"children"],[92,4,78,15],[93,6,78,15,"fileName"],[93,14,78,15],[93,16,78,15,"_jsxFileName"],[93,28,78,15],[94,6,78,15,"lineNumber"],[94,16,78,15],[95,6,78,15,"columnNumber"],[95,18,78,15],[96,4,78,15],[96,11,79,26],[96,12,79,27],[97,2,81,0],[97,3,81,1],[98,2,81,2,"_s"],[98,4,81,2],[98,5,21,13,"AuthProvider"],[98,17,21,60],[99,2,21,60,"_c"],[99,4,21,60],[99,7,21,13,"AuthProvider"],[99,19,21,60],[100,2,83,7],[100,11,83,16,"useAuth"],[100,18,83,23,"useAuth"],[100,19,83,23],[100,21,83,26],[101,4,83,26,"_s2"],[101,7,83,26],[102,4,84,2],[102,10,84,8,"context"],[102,17,84,15],[102,20,84,18],[102,24,84,18,"useContext"],[102,30,84,28],[102,31,84,28,"useContext"],[102,41,84,28],[102,43,84,29,"AuthContext"],[102,54,84,40],[102,55,84,41],[103,4,85,2],[103,8,85,6],[103,9,85,7,"context"],[103,16,85,14],[103,18,85,16],[104,6,86,4],[104,12,86,10],[104,16,86,14,"Error"],[104,21,86,19],[104,22,86,20],[104,67,86,65],[104,68,86,66],[105,4,87,2],[106,4,88,2],[106,11,88,9,"context"],[106,18,88,16],[107,2,89,0],[108,2,89,1,"_s2"],[108,5,89,1],[108,6,83,16,"useAuth"],[108,13,83,23],[109,2,83,23],[109,6,83,23,"_c"],[109,8,83,23],[110,2,83,23,"$RefreshReg$"],[110,14,83,23],[110,15,83,23,"_c"],[110,17,83,23],[111,0,83,23],[111,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredData","signIn","signUp","signOut","useAuth"],"mappings":"AAA;+DCoB;YCI;GDE;EEE;GFa;EGE;GHW;EIE;GJW;EKE;GLI;CDO;OOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}