{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":42,"index":202}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"AuthProvider\",{enumerable:!0,get:function(){return l}}),_e.useAuth=function(){const e=(0,t.useContext)(c);if(!e)throw new Error('useAuth doit \\xeatre utilis\\xe9 dans AuthProvider');return e};var e,t=r(d[0]),n=r(d[1]),o=(e=n)&&e.__esModule?e:{default:e},u=r(d[2]),s=r(d[3]);const c=(0,t.createContext)({}),l=({children:e})=>{const[n,l]=(0,t.useState)(null),[f,w]=(0,t.useState)(!0),[h,I]=(0,t.useState)(!1);async function y(){try{const e=await o.default.getItem('user'),t=await o.default.getItem('token'),n=await o.default.getItem('onboardingCompleted');e&&t&&(l(JSON.parse(e)),n||I(!0))}catch(e){console.error('Erreur chargement donn\\xe9es:',e)}finally{w(!1)}}(0,t.useEffect)(()=>{y()},[]);return(0,s.jsx)(c.Provider,{value:{user:n,loading:f,showOnboarding:h,completeOnboarding:()=>{I(!1)},signIn:async function(e,t){try{const n=await u.authAPI.login(e,t),{token:s,user:c}=n.data;await o.default.setItem('authToken',s),await o.default.setItem('token',s),await o.default.setItem('user',JSON.stringify(c)),l(c)}catch(e){throw new Error(e.response?.data?.message||'Erreur de connexion')}},signUp:async function(e,t,n){try{const s=await u.authAPI.register(e,t,n),{token:c,user:f}=s.data;await o.default.setItem('authToken',c),await o.default.setItem('token',c),await o.default.setItem('user',JSON.stringify(f)),l(f)}catch(e){throw new Error(e.response?.data?.message||'Erreur d\\'inscription')}},signOut:async function(){try{console.log('\\ud83d\\udd13 D\\xe9connexion en cours...'),await o.default.removeItem('token'),await o.default.removeItem('authToken'),await o.default.removeItem('user'),await o.default.removeItem('onboardingCompleted'),l(null),console.log('\\u2705 D\\xe9connexion r\\xe9ussie')}catch(e){console.error('\\u274c Erreur d\\xe9connexion:',e)}}},children:e})}});","lineCount":1,"map":[[1,92,23,0,"Object"],[1,99,23,0,"defineProperty"],[1,114,23,0,"_e"],[1,117,23,0],[1,133,23,0,"enumerable"],[1,145,23,0],[1,147,23,0,"get"],[1,151,23,0],[1,169,23,0,"AuthProvider"],[1,170,23,0],[1,174,106,0,"_e"],[1,177,106,0,"useAuth"],[1,185,106,7],[1,196,107,2],[1,202,107,8,"context"],[1,205,107,18],[1,207,107,18,"useContext"],[1,209,107,28,"useContext"],[1,221,107,29,"AuthContext"],[1,224,108,2],[1,228,108,7,"context"],[1,230,109,4],[1,236,109,10],[1,240,109,14,"Error"],[1,246,109,20],[1,299,111,2],[1,306,111,9,"context"],[1,307,112,0],[1,309,1,0],[1,313],[1,315,1,0,"_react"],[1,317,1,0,"r"],[1,319,1,0,"d"],[1,321,1,0],[1,325,2,0,"_reactNativeAsyncStorageAsyncStorage"],[1,327,2,0,"r"],[1,329,2,0,"d"],[1,331,2,0],[1,335,2,0,"AsyncStorage"],[1,338],[1,340,2,0,"_reactNativeAsyncStorageAsyncStorage"],[1,344],[1,371,3,0,"_servicesApi"],[1,373,3,0,"r"],[1,375,3,0,"d"],[1,377,3,0],[1,381,3,42,"_reactJsxRuntime"],[1,383,3,42,"r"],[1,385,3,42,"d"],[1,387,3,42],[1,391,21,0],[1,397,21,6,"AuthContext"],[1,400,21,20],[1,402,21,20,"createContext"],[1,404,21,33,"createContext"],[1,419,21,51],[1,420,21,52],[1,423,23,13,"AuthProvider"],[1,425,23,63,"AuthProvider"],[1,427,23,66,"children"],[1,442,24,2],[1,448,24,9,"user"],[1,450,24,15,"setUser"],[1,454,24,26],[1,456,24,26,"useState"],[1,458,24,34,"useState"],[1,468,24,48],[1,475,25,9,"loading"],[1,477,25,18,"setLoading"],[1,481,25,32],[1,483,25,32,"useState"],[1,485,25,40,"useState"],[1,496,25,41],[1,500,26,9,"showOnboarding"],[1,502,26,25,"setShowOnboarding"],[1,506,26,46],[1,508,26,46,"useState"],[1,510,26,54,"useState"],[1,521,26,55],[1,524,32,2,"async"],[1,539,32,17,"loadStoredData"],[1,543,33,4],[1,547,34,6],[1,553,34,12,"storedUser"],[1,561,34,31,"AsyncStorage"],[1,563,34,43,"default"],[1,571,34,44,"getItem"],[1,579,34,52],[1,587,35,12,"storedToken"],[1,595,35,32,"AsyncStorage"],[1,597,35,44,"default"],[1,605,35,45,"getItem"],[1,613,35,53],[1,622,36,12,"onboardingCompleted"],[1,630,36,40,"AsyncStorage"],[1,632,36,52,"default"],[1,640,36,53,"getItem"],[1,648,36,61],[1,671,38,10,"storedUser"],[1,674,38,24,"storedToken"],[1,678,39,8,"setUser"],[1,680,39,16,"JSON"],[1,685,39,21,"parse"],[1,691,39,27,"storedUser"],[1,695,42,13,"onboardingCompleted"],[1,698,43,10,"setShowOnboarding"],[1,701,43,28],[1,704,46,4],[1,705,46,6],[1,711,46,13,"error"],[1,714,47,6,"console"],[1,722,47,14,"error"],[1,728,47,20],[1,760,47,50,"error"],[1,762,48,4],[1,763,48,5],[1,771,49,6,"setLoading"],[1,774,49,17],[1,776,50,4],[1,777,51,2],[1,779,28,2],[1,781,28,2,"useEffect"],[1,783,28,11,"useEffect"],[1,794,28,12],[1,799,29,4,"loadStoredData"],[1,804,30,5],[1,808,99,2],[1,815,100,4],[1,817,100,4,"_reactJsxRuntime"],[1,819,100,4,"jsx"],[1,824,100,5,"AuthContext"],[1,826,100,17,"Provider"],[1,835,100,25],[1,836,100,26,"value"],[1,842,100,33],[1,843,100,35,"user"],[1,850,100,41,"loading"],[1,860,100,50,"showOnboarding"],[1,877,100,66,"completeOnboarding"],[1,896,53,29,"completeOnboarding"],[1,901,54,4,"setShowOnboarding"],[1,904,54,22],[1,908,100,86,"signIn"],[1,915,57,2,"async"],[1,930,57,24,"email"],[1,932,57,39,"password"],[1,935,58,4],[1,939,59,6],[1,945,59,12,"response"],[1,953,59,29,"authAPI"],[1,955,59,36,"authAPI"],[1,963,59,37,"login"],[1,969,59,43,"email"],[1,971,59,50,"password"],[1,975,60,12,"token"],[1,981,60,14,"token"],[1,983,60,21,"user"],[1,988,60,27,"userData"],[1,991,60,40,"response"],[1,993,60,49,"data"],[1,1004,62,12,"AsyncStorage"],[1,1006,62,24,"default"],[1,1014,62,25,"setItem"],[1,1022,62,33],[1,1034,62,46,"token"],[1,1043,63,12,"AsyncStorage"],[1,1045,63,24,"default"],[1,1053,63,25,"setItem"],[1,1061,63,33],[1,1069,63,42,"token"],[1,1078,64,12,"AsyncStorage"],[1,1080,64,24,"default"],[1,1088,64,25,"setItem"],[1,1096,64,33],[1,1103,64,41,"JSON"],[1,1108,64,46,"stringify"],[1,1118,64,56,"userData"],[1,1122,65,6,"setUser"],[1,1124,65,14,"userData"],[1,1126,66,4],[1,1127,66,6],[1,1133,66,13,"error"],[1,1136,67,6],[1,1142,67,12],[1,1146,67,16,"Error"],[1,1152,67,22,"error"],[1,1154,67,28,"response"],[1,1164,67,38,"data"],[1,1170,67,44,"message"],[1,1179,67,55],[1,1201,68,4],[1,1202,69,2],[1,1204,100,94,"signUp"],[1,1211,71,2,"async"],[1,1226,71,24,"email"],[1,1228,71,39,"password"],[1,1230,71,57,"name"],[1,1233,72,4],[1,1237,73,6],[1,1243,73,12,"response"],[1,1251,73,29,"authAPI"],[1,1253,73,36,"authAPI"],[1,1261,73,37,"register"],[1,1270,73,46,"email"],[1,1272,73,53,"password"],[1,1274,73,63,"name"],[1,1278,74,12,"token"],[1,1284,74,14,"token"],[1,1286,74,21,"user"],[1,1291,74,27,"userData"],[1,1294,74,40,"response"],[1,1296,74,49,"data"],[1,1307,76,12,"AsyncStorage"],[1,1309,76,24,"default"],[1,1317,76,25,"setItem"],[1,1325,76,33],[1,1337,76,46,"token"],[1,1346,77,12,"AsyncStorage"],[1,1348,77,24,"default"],[1,1356,77,25,"setItem"],[1,1364,77,33],[1,1372,77,42,"token"],[1,1381,78,12,"AsyncStorage"],[1,1383,78,24,"default"],[1,1391,78,25,"setItem"],[1,1399,78,33],[1,1406,78,41,"JSON"],[1,1411,78,46,"stringify"],[1,1421,78,56,"userData"],[1,1425,79,6,"setUser"],[1,1427,79,14,"userData"],[1,1429,80,4],[1,1430,80,6],[1,1436,80,13,"error"],[1,1439,81,6],[1,1445,81,12],[1,1449,81,16,"Error"],[1,1455,81,22,"error"],[1,1457,81,28,"response"],[1,1467,81,38,"data"],[1,1473,81,44,"message"],[1,1482,81,55],[1,1506,82,4],[1,1507,83,2],[1,1509,100,102,"signOut"],[1,1517,85,2,"async"],[1,1534,86,4],[1,1538,87,6,"console"],[1,1546,87,14,"log"],[1,1550,87,18],[1,1599,88,12,"AsyncStorage"],[1,1601,88,24,"default"],[1,1609,88,25,"removeItem"],[1,1620,88,36],[1,1635,89,12,"AsyncStorage"],[1,1637,89,24,"default"],[1,1645,89,25,"removeItem"],[1,1656,89,36],[1,1675,90,12,"AsyncStorage"],[1,1677,90,24,"default"],[1,1685,90,25,"removeItem"],[1,1696,90,36],[1,1710,91,12,"AsyncStorage"],[1,1712,91,24,"default"],[1,1720,91,25,"removeItem"],[1,1731,91,36],[1,1754,92,6,"setUser"],[1,1756,92,14],[1,1762,93,6,"console"],[1,1770,93,14,"log"],[1,1774,93,18],[1,1809,94,4],[1,1810,94,6],[1,1816,94,13,"error"],[1,1819,95,6,"console"],[1,1827,95,14,"error"],[1,1833,95,20],[1,1865,95,45,"error"],[1,1867,96,4],[1,1868,97,2],[1,1871,100,112,"children"],[1,1880,101,7,"children"],[1,1884,112,1],[1,1887]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredData","completeOnboarding","signIn","signUp","signOut","useAuth"],"mappings":"AAA;+DCsB;YCK;GDE;EEE;GFmB;6BGE;GHE;EIE;GJY;EKE;GLY;EME;GNY;CDO;OQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}