{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":50,"index":129}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"./AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":201},"end":{"line":4,"column":40,"index":241}}],"key":"YmpzODa+dVz64UAAYTI+RwJeEt0=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";Object.defineProperty(e,'__esModule',{value:!0}),e.SubscriptionProvider=function({children:c}){const{user:l}=(0,n.useAuth)(),[p,S]=(0,t.useState)(!1),[b,y]=(0,t.useState)(!1),[f,v]=(0,t.useState)(!0),[h,x]=(0,t.useState)(null),[w,A]=(0,t.useState)(null),[E,P]=(0,t.useState)(!1);(0,t.useEffect)(()=>{l&&T()},[l]);const T=async()=>{try{await _()}catch(t){console.error('Erreur initialisation abonnement:',t)}finally{v(!1)}},_=async()=>{try{v(!0);const t=(await s.subscriptionAPI.getStatus()).data;S(t.isActive),y(t.isTrial),x(t.expiresAt?new Date(t.expiresAt):null),A(t.daysRemaining??null),P(t.isExpired||!1),console.log('\\u2705 Statut abonnement:',t),console.log(`\\ud83d\\udcc5 Jours restants: ${t.daysRemaining}`)}catch(t){console.error('Erreur v\\xe9rification abonnement:',t),S(!0),P(!1)}finally{v(!1)}};return(0,o.jsx)(u.Provider,{value:{isPremium:p,isTrial:b,isLoading:f,expiresAt:h,daysRemaining:w,isExpired:E,checkSubscription:_,startTrial:async()=>{try{const t=await s.subscriptionAPI.startTrial();return!!t.data.success&&(S(!0),y(!0),x(new Date(t.data.expiresAt)),!0)}catch(t){return console.error('Erreur d\\xe9marrage essai:',t),!1}}},children:c})},e.useSubscription=function(){const s=(0,t.useContext)(u);if(void 0===s)throw new Error('useSubscription must be used within a SubscriptionProvider');return s};var t=r(d[0]),s=r(d[1]),n=r(d[2]),o=r(d[3]);const u=(0,t.createContext)(void 0)});","lineCount":1,"map":[[1,90,19,0,"e"],[1,92,19,0,"SubscriptionProvider"],[1,113,19,7],[1,123,19,37,"children"],[1,132,19,39,"children"],[1,136,20,2],[1,142,20,8,"user"],[1,147,20,10,"user"],[1,151,20,19],[1,153,20,19,"useAuth"],[1,155,20,26,"useAuth"],[1,167,21,9,"isPremium"],[1,169,21,20,"setIsPremium"],[1,173,21,36],[1,175,21,36,"useState"],[1,177,21,44,"useState"],[1,188,21,45],[1,192,22,9,"isTrial"],[1,194,22,18,"setIsTrial"],[1,198,22,32],[1,200,22,32,"useState"],[1,202,22,40,"useState"],[1,213,22,41],[1,217,23,9,"isLoading"],[1,219,23,20,"setIsLoading"],[1,223,23,36],[1,225,23,36,"useState"],[1,227,23,44,"useState"],[1,238,23,45],[1,242,24,9,"expiresAt"],[1,244,24,20,"setExpiresAt"],[1,248,24,36],[1,250,24,36,"useState"],[1,252,24,44,"useState"],[1,262,24,58],[1,269,25,9,"daysRemaining"],[1,271,25,24,"setDaysRemaining"],[1,275,25,44],[1,277,25,44,"useState"],[1,279,25,52,"useState"],[1,289,25,68],[1,296,26,9,"isExpired"],[1,298,26,20,"setIsExpired"],[1,302,26,36],[1,304,26,36,"useState"],[1,306,26,44,"useState"],[1,317,26,45],[1,321,28,2],[1,323,28,2,"useEffect"],[1,325,28,11,"useEffect"],[1,336,28,12],[1,341,29,8,"user"],[1,344,30,6,"initializeSubscription"],[1,349,32,5],[1,350,32,6,"user"],[1,354,34,2],[1,360,34,8,"initializeSubscription"],[1,362,34,33,"async"],[1,372,35,4],[1,382,37,12,"checkSubscription"],[1,385,38,4],[1,386,38,6],[1,392,38,13,"error"],[1,395,39,6,"console"],[1,403,39,14,"error"],[1,409,39,20],[1,445,39,57,"error"],[1,447,40,4],[1,448,40,5],[1,456,41,6,"setIsLoading"],[1,459,41,19],[1,461,42,4],[1,464,45,8,"checkSubscription"],[1,466,45,28,"async"],[1,476,46,4],[1,480,47,6,"setIsLoading"],[1,483,47,19],[1,486,50,6],[1,492,51,12,"status"],[1,501,50,29,"subscriptionAPI"],[1,503,50,44,"subscriptionAPI"],[1,519,50,45,"getStatus"],[1,532,51,30,"data"],[1,537,53,6,"setIsPremium"],[1,539,53,19,"status"],[1,541,53,26,"isActive"],[1,551,54,6,"setIsTrial"],[1,553,54,17,"status"],[1,555,54,24,"isTrial"],[1,564,55,6,"setExpiresAt"],[1,566,55,19,"status"],[1,568,55,26,"expiresAt"],[1,578,55,38],[1,582,55,42,"Date"],[1,587,55,47,"status"],[1,589,55,54,"expiresAt"],[1,600,55,67],[1,606,56,6,"setDaysRemaining"],[1,608,56,23,"status"],[1,610,56,30,"daysRemaining"],[1,625,56,47],[1,631,57,6,"setIsExpired"],[1,633,57,19,"status"],[1,635,57,26,"isExpired"],[1,647,57,39],[1,650,59,6,"console"],[1,658,59,14,"log"],[1,662,59,18],[1,690,59,42,"status"],[1,693,60,6,"console"],[1,701,60,14,"log"],[1,705,60,18],[1,737,60,40,"status"],[1,739,60,47,"daysRemaining"],[1,755,62,4],[1,756,62,6],[1,762,62,13,"error"],[1,765,63,6,"console"],[1,773,63,14,"error"],[1,779,63,20],[1,816,63,55,"error"],[1,819,65,6,"setIsPremium"],[1,822,65,19],[1,825,66,6,"setIsExpired"],[1,828,66,19],[1,830,67,4],[1,831,67,5],[1,839,68,6,"setIsLoading"],[1,842,68,19],[1,844,69,4],[1,847,90,2],[1,854,91,4],[1,856,91,4,"_reactJsxRuntime"],[1,858,91,4,"jsx"],[1,863,91,5,"SubscriptionContext"],[1,865,91,25,"Provider"],[1,874,91,33],[1,875,92,6,"value"],[1,881,92,13],[1,882,93,8,"isPremium"],[1,894,94,8,"isTrial"],[1,904,95,8,"isLoading"],[1,916,96,8,"expiresAt"],[1,928,97,8,"daysRemaining"],[1,944,98,8,"isExpired"],[1,956,99,8,"checkSubscription"],[1,976,100,8,"startTrial"],[1,987,72,21,"async"],[1,997,73,4],[1,1001,74,6],[1,1007,74,12,"response"],[1,1015,74,29,"subscriptionAPI"],[1,1017,74,44,"subscriptionAPI"],[1,1033,74,45,"startTrial"],[1,1046,76,6],[1,1054,76,10,"response"],[1,1056,76,19,"data"],[1,1061,76,24,"success"],[1,1071,77,8,"setIsPremium"],[1,1074,77,21],[1,1077,78,8,"setIsTrial"],[1,1080,78,19],[1,1083,79,8,"setExpiresAt"],[1,1085,79,21],[1,1089,79,25,"Date"],[1,1094,79,30,"response"],[1,1096,79,39,"data"],[1,1101,79,44,"expiresAt"],[1,1114,80,15],[1,1116,84,4],[1,1117,84,6],[1,1123,84,13,"error"],[1,1126,86,6],[1,1133,85,6,"console"],[1,1141,85,14,"error"],[1,1147,85,20],[1,1176,85,47,"error"],[1,1180,86,13],[1,1181,87,4],[1,1185,101,8,"children"],[1,1194,103,7,"children"],[1,1197,106,0],[1,1199,108,0,"e"],[1,1201,108,0,"useSubscription"],[1,1217,108,7],[1,1228,109,2],[1,1234,109,8,"context"],[1,1237,109,18],[1,1239,109,18,"useContext"],[1,1241,109,28,"useContext"],[1,1253,109,29,"SubscriptionContext"],[1,1256,110,2],[1,1264,110,18,"undefined"],[1,1268,110,6,"context"],[1,1270,111,4],[1,1276,111,10],[1,1280,111,14,"Error"],[1,1286,111,20],[1,1348,113,2],[1,1355,113,9,"context"],[1,1356,114,0],[1,1358,1,0],[1,1362,1,0,"_react"],[1,1364,1,0,"r"],[1,1366,1,0,"d"],[1,1368,1,0],[1,1372,2,0,"_servicesApi"],[1,1374,2,0,"r"],[1,1376,2,0,"d"],[1,1378,2,0],[1,1382,4,0,"_AuthContext"],[1,1384,4,0,"r"],[1,1386,4,0,"d"],[1,1388,4,0],[1,1392,4,40,"_reactJsxRuntime"],[1,1394,4,40,"r"],[1,1396,4,40,"d"],[1,1398,4,40],[1,1402,17,0],[1,1408,17,6,"SubscriptionContext"],[1,1411,17,28],[1,1413,17,28,"createContext"],[1,1415,17,41,"createContext"],[1,1435,17,79,"undefined"],[1,1437,114,1],[1,1440]],"functionMap":{"names":["<global>","SubscriptionProvider","useEffect$argument_0","initializeSubscription","checkSubscription","startTrial","useSubscription"],"mappings":"AAA;OCkB;YCS;GDI;iCEE;GFS;4BGE;GHyB;qBIE;GJgB;CDkB;OME;CNM"},"hasCjsExports":false},"type":"js/module"}]}