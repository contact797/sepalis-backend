{"dependencies":[{"name":"react-native-purchases","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":5,"column":32,"index":109}}],"key":"w6kXlt3+wzwVuELA/KXcfEkh03Q=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"subscriptionService\", {\n    enumerable: true,\n    get: function () {\n      return subscriptionService;\n    }\n  });\n  var _reactNativePurchases = require(_dependencyMap[0], \"react-native-purchases\");\n  var Purchases = _interopDefault(_reactNativePurchases);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  // IMPORTANT: Remplacez ces clés par vos vraies clés RevenueCat\n  // À obtenir sur https://app.revenuecat.com/\n  const REVENUECAT_API_KEY_IOS = 'YOUR_IOS_API_KEY_HERE';\n  const REVENUECAT_API_KEY_ANDROID = 'YOUR_ANDROID_API_KEY_HERE';\n  const subscriptionService = {\n    /**\n     * Initialise RevenueCat avec l'utilisateur\n     */\n    async initialize(userId) {\n      try {\n        const apiKey = Platform.default.select({\n          ios: REVENUECAT_API_KEY_IOS,\n          android: REVENUECAT_API_KEY_ANDROID\n        });\n        if (!apiKey || apiKey.includes('YOUR_')) {\n          console.warn('⚠️ Clés RevenueCat non configurées - Mode démo');\n          return;\n        }\n        await Purchases.default.configure({\n          apiKey,\n          appUserID: userId\n        });\n        console.log('✅ RevenueCat initialisé');\n      } catch (error) {\n        console.error('Erreur initialisation RevenueCat:', error);\n      }\n    },\n    /**\n     * Récupère les offres disponibles\n     */\n    async getOfferings() {\n      try {\n        const offerings = await Purchases.default.getOfferings();\n        return offerings.current;\n      } catch (error) {\n        console.error('Erreur récupération offres:', error);\n        return null;\n      }\n    },\n    /**\n     * Achète un package\n     */\n    async purchasePackage(pkg) {\n      try {\n        const {\n          customerInfo\n        } = await Purchases.default.purchasePackage(pkg);\n        console.log('✅ Achat réussi');\n        return customerInfo;\n      } catch (error) {\n        if (error.userCancelled) {\n          console.log('Achat annulé par l\\'utilisateur');\n        } else {\n          console.error('Erreur achat:', error);\n        }\n        return null;\n      }\n    },\n    /**\n     * Restaure les achats\n     */\n    async restorePurchases() {\n      try {\n        const customerInfo = await Purchases.default.restorePurchases();\n        console.log('✅ Achats restaurés');\n        return customerInfo;\n      } catch (error) {\n        console.error('Erreur restauration achats:', error);\n        return null;\n      }\n    },\n    /**\n     * Vérifie si l'utilisateur a un abonnement actif\n     */\n    async checkSubscription() {\n      try {\n        const customerInfo = await Purchases.default.getCustomerInfo();\n        const entitlements = customerInfo.entitlements.active;\n\n        // Vérifier si l'utilisateur a l'entitlement \"premium\"\n        const hasPremium = 'premium' in entitlements;\n        if (hasPremium) {\n          const premiumEntitlement = entitlements['premium'];\n          return {\n            isActive: true,\n            isTrial: premiumEntitlement.willRenew === false,\n            expiresAt: premiumEntitlement.expirationDate ? new Date(premiumEntitlement.expirationDate) : null\n          };\n        }\n        return {\n          isActive: false,\n          isTrial: false,\n          expiresAt: null\n        };\n      } catch (error) {\n        console.error('Erreur vérification abonnement:', error);\n        return {\n          isActive: false,\n          isTrial: false,\n          expiresAt: null\n        };\n      }\n    },\n    /**\n     * Obtient les informations client\n     */\n    async getCustomerInfo() {\n      try {\n        return await Purchases.default.getCustomerInfo();\n      } catch (error) {\n        console.error('Erreur info client:', error);\n        return null;\n      }\n    }\n  };\n});","lineCount":137,"map":[[12,2,13,0,"Object"],[12,8,13,0],[12,9,13,0,"defineProperty"],[12,23,13,0],[12,24,13,0,"exports"],[12,31,13,0],[13,4,13,0,"enumerable"],[13,14,13,0],[14,4,13,0,"get"],[14,7,13,0],[14,18,13,0,"get"],[14,19,13,0],[15,6,13,0],[15,13,13,0,"subscriptionService"],[15,32,13,0],[16,4,13,0],[17,2,13,0],[18,2,1,0],[18,6,1,0,"_reactNativePurchases"],[18,27,1,0],[18,30,1,0,"require"],[18,37,1,0],[18,38,1,0,"_dependencyMap"],[18,52,1,0],[19,2,1,0],[19,6,1,0,"Purchases"],[19,15,1,0],[19,18,1,0,"_interopDefault"],[19,33,1,0],[19,34,1,0,"_reactNativePurchases"],[19,55,1,0],[20,2,5,32],[20,6,5,32,"_reactNativeWebDistExportsPlatform"],[20,40,5,32],[20,43,5,32,"require"],[20,50,5,32],[20,51,5,32,"_dependencyMap"],[20,65,5,32],[21,2,5,32],[21,6,5,32,"Platform"],[21,14,5,32],[21,17,5,32,"_interopDefault"],[21,32,5,32],[21,33,5,32,"_reactNativeWebDistExportsPlatform"],[21,67,5,32],[22,2,8,0],[23,2,9,0],[24,2,10,0],[24,8,10,6,"REVENUECAT_API_KEY_IOS"],[24,30,10,28],[24,33,10,31],[24,56,10,54],[25,2,11,0],[25,8,11,6,"REVENUECAT_API_KEY_ANDROID"],[25,34,11,32],[25,37,11,35],[25,64,11,62],[26,2,13,7],[26,8,13,13,"subscriptionService"],[26,27,13,32],[26,30,13,35],[27,4,14,2],[28,0,15,0],[29,0,16,0],[30,4,17,2],[30,10,17,8,"initialize"],[30,20,17,18,"initialize"],[30,21,17,19,"userId"],[30,27,17,33],[30,29,17,50],[31,6,18,4],[31,10,18,8],[32,8,19,6],[32,14,19,12,"apiKey"],[32,20,19,18],[32,23,19,21,"Platform"],[32,31,19,29],[32,32,19,29,"default"],[32,39,19,29],[32,40,19,30,"select"],[32,46,19,36],[32,47,19,37],[33,10,20,8,"ios"],[33,13,20,11],[33,15,20,13,"REVENUECAT_API_KEY_IOS"],[33,37,20,35],[34,10,21,8,"android"],[34,17,21,15],[34,19,21,17,"REVENUECAT_API_KEY_ANDROID"],[35,8,22,6],[35,9,22,7],[35,10,22,8],[36,8,24,6],[36,12,24,10],[36,13,24,11,"apiKey"],[36,19,24,17],[36,23,24,21,"apiKey"],[36,29,24,27],[36,30,24,28,"includes"],[36,38,24,36],[36,39,24,37],[36,46,24,44],[36,47,24,45],[36,49,24,47],[37,10,25,8,"console"],[37,17,25,15],[37,18,25,16,"warn"],[37,22,25,20],[37,23,25,21],[37,71,25,69],[37,72,25,70],[38,10,26,8],[39,8,27,6],[40,8,29,6],[40,14,29,12,"Purchases"],[40,23,29,21],[40,24,29,21,"default"],[40,31,29,21],[40,32,29,22,"configure"],[40,41,29,31],[40,42,29,32],[41,10,29,34,"apiKey"],[41,16,29,40],[42,10,29,42,"appUserID"],[42,19,29,51],[42,21,29,53,"userId"],[43,8,29,60],[43,9,29,61],[43,10,29,62],[44,8,30,6,"console"],[44,15,30,13],[44,16,30,14,"log"],[44,19,30,17],[44,20,30,18],[44,45,30,43],[44,46,30,44],[45,6,31,4],[45,7,31,5],[45,8,31,6],[45,15,31,13,"error"],[45,20,31,18],[45,22,31,20],[46,8,32,6,"console"],[46,15,32,13],[46,16,32,14,"error"],[46,21,32,19],[46,22,32,20],[46,57,32,55],[46,59,32,57,"error"],[46,64,32,62],[46,65,32,63],[47,6,33,4],[48,4,34,2],[48,5,34,3],[49,4,36,2],[50,0,37,0],[51,0,38,0],[52,4,39,2],[52,10,39,8,"getOfferings"],[52,22,39,20,"getOfferings"],[52,23,39,20],[52,25,39,58],[53,6,40,4],[53,10,40,8],[54,8,41,6],[54,14,41,12,"offerings"],[54,23,41,21],[54,26,41,24],[54,32,41,30,"Purchases"],[54,41,41,39],[54,42,41,39,"default"],[54,49,41,39],[54,50,41,40,"getOfferings"],[54,62,41,52],[54,63,41,53],[54,64,41,54],[55,8,42,6],[55,15,42,13,"offerings"],[55,24,42,22],[55,25,42,23,"current"],[55,32,42,30],[56,6,43,4],[56,7,43,5],[56,8,43,6],[56,15,43,13,"error"],[56,20,43,18],[56,22,43,20],[57,8,44,6,"console"],[57,15,44,13],[57,16,44,14,"error"],[57,21,44,19],[57,22,44,20],[57,51,44,49],[57,53,44,51,"error"],[57,58,44,56],[57,59,44,57],[58,8,45,6],[58,15,45,13],[58,19,45,17],[59,6,46,4],[60,4,47,2],[60,5,47,3],[61,4,49,2],[62,0,50,0],[63,0,51,0],[64,4,52,2],[64,10,52,8,"purchasePackage"],[64,25,52,23,"purchasePackage"],[64,26,52,24,"pkg"],[64,29,52,45],[64,31,52,77],[65,6,53,4],[65,10,53,8],[66,8,54,6],[66,14,54,12],[67,10,54,14,"customerInfo"],[68,8,54,27],[68,9,54,28],[68,12,54,31],[68,18,54,37,"Purchases"],[68,27,54,46],[68,28,54,46,"default"],[68,35,54,46],[68,36,54,47,"purchasePackage"],[68,51,54,62],[68,52,54,63,"pkg"],[68,55,54,66],[68,56,54,67],[69,8,55,6,"console"],[69,15,55,13],[69,16,55,14,"log"],[69,19,55,17],[69,20,55,18],[69,36,55,34],[69,37,55,35],[70,8,56,6],[70,15,56,13,"customerInfo"],[70,27,56,25],[71,6,57,4],[71,7,57,5],[71,8,57,6],[71,15,57,13,"error"],[71,20,57,23],[71,22,57,25],[72,8,58,6],[72,12,58,10,"error"],[72,17,58,15],[72,18,58,16,"userCancelled"],[72,31,58,29],[72,33,58,31],[73,10,59,8,"console"],[73,17,59,15],[73,18,59,16,"log"],[73,21,59,19],[73,22,59,20],[73,55,59,53],[73,56,59,54],[74,8,60,6],[74,9,60,7],[74,15,60,13],[75,10,61,8,"console"],[75,17,61,15],[75,18,61,16,"error"],[75,23,61,21],[75,24,61,22],[75,39,61,37],[75,41,61,39,"error"],[75,46,61,44],[75,47,61,45],[76,8,62,6],[77,8,63,6],[77,15,63,13],[77,19,63,17],[78,6,64,4],[79,4,65,2],[79,5,65,3],[80,4,67,2],[81,0,68,0],[82,0,69,0],[83,4,70,2],[83,10,70,8,"restorePurchases"],[83,26,70,24,"restorePurchases"],[83,27,70,24],[83,29,70,57],[84,6,71,4],[84,10,71,8],[85,8,72,6],[85,14,72,12,"customerInfo"],[85,26,72,24],[85,29,72,27],[85,35,72,33,"Purchases"],[85,44,72,42],[85,45,72,42,"default"],[85,52,72,42],[85,53,72,43,"restorePurchases"],[85,69,72,59],[85,70,72,60],[85,71,72,61],[86,8,73,6,"console"],[86,15,73,13],[86,16,73,14,"log"],[86,19,73,17],[86,20,73,18],[86,40,73,38],[86,41,73,39],[87,8,74,6],[87,15,74,13,"customerInfo"],[87,27,74,25],[88,6,75,4],[88,7,75,5],[88,8,75,6],[88,15,75,13,"error"],[88,20,75,18],[88,22,75,20],[89,8,76,6,"console"],[89,15,76,13],[89,16,76,14,"error"],[89,21,76,19],[89,22,76,20],[89,51,76,49],[89,53,76,51,"error"],[89,58,76,56],[89,59,76,57],[90,8,77,6],[90,15,77,13],[90,19,77,17],[91,6,78,4],[92,4,79,2],[92,5,79,3],[93,4,81,2],[94,0,82,0],[95,0,83,0],[96,4,84,2],[96,10,84,8,"checkSubscription"],[96,27,84,25,"checkSubscription"],[96,28,84,25],[96,30,88,5],[97,6,89,4],[97,10,89,8],[98,8,90,6],[98,14,90,12,"customerInfo"],[98,26,90,24],[98,29,90,27],[98,35,90,33,"Purchases"],[98,44,90,42],[98,45,90,42,"default"],[98,52,90,42],[98,53,90,43,"getCustomerInfo"],[98,68,90,58],[98,69,90,59],[98,70,90,60],[99,8,91,6],[99,14,91,12,"entitlements"],[99,26,91,24],[99,29,91,27,"customerInfo"],[99,41,91,39],[99,42,91,40,"entitlements"],[99,54,91,52],[99,55,91,53,"active"],[99,61,91,59],[101,8,93,6],[102,8,94,6],[102,14,94,12,"hasPremium"],[102,24,94,22],[102,27,94,25],[102,36,94,34],[102,40,94,38,"entitlements"],[102,52,94,50],[103,8,96,6],[103,12,96,10,"hasPremium"],[103,22,96,20],[103,24,96,22],[104,10,97,8],[104,16,97,14,"premiumEntitlement"],[104,34,97,32],[104,37,97,35,"entitlements"],[104,49,97,47],[104,50,97,48],[104,59,97,57],[104,60,97,58],[105,10,98,8],[105,17,98,15],[106,12,99,10,"isActive"],[106,20,99,18],[106,22,99,20],[106,26,99,24],[107,12,100,10,"isTrial"],[107,19,100,17],[107,21,100,19,"premiumEntitlement"],[107,39,100,37],[107,40,100,38,"willRenew"],[107,49,100,47],[107,54,100,52],[107,59,100,57],[108,12,101,10,"expiresAt"],[108,21,101,19],[108,23,101,21,"premiumEntitlement"],[108,41,101,39],[108,42,101,40,"expirationDate"],[108,56,101,54],[108,59,102,14],[108,63,102,18,"Date"],[108,67,102,22],[108,68,102,23,"premiumEntitlement"],[108,86,102,41],[108,87,102,42,"expirationDate"],[108,101,102,56],[108,102,102,57],[108,105,103,14],[109,10,104,8],[109,11,104,9],[110,8,105,6],[111,8,107,6],[111,15,107,13],[112,10,108,8,"isActive"],[112,18,108,16],[112,20,108,18],[112,25,108,23],[113,10,109,8,"isTrial"],[113,17,109,15],[113,19,109,17],[113,24,109,22],[114,10,110,8,"expiresAt"],[114,19,110,17],[114,21,110,19],[115,8,111,6],[115,9,111,7],[116,6,112,4],[116,7,112,5],[116,8,112,6],[116,15,112,13,"error"],[116,20,112,18],[116,22,112,20],[117,8,113,6,"console"],[117,15,113,13],[117,16,113,14,"error"],[117,21,113,19],[117,22,113,20],[117,55,113,53],[117,57,113,55,"error"],[117,62,113,60],[117,63,113,61],[118,8,114,6],[118,15,114,13],[119,10,115,8,"isActive"],[119,18,115,16],[119,20,115,18],[119,25,115,23],[120,10,116,8,"isTrial"],[120,17,116,15],[120,19,116,17],[120,24,116,22],[121,10,117,8,"expiresAt"],[121,19,117,17],[121,21,117,19],[122,8,118,6],[122,9,118,7],[123,6,119,4],[124,4,120,2],[124,5,120,3],[125,4,122,2],[126,0,123,0],[127,0,124,0],[128,4,125,2],[128,10,125,8,"getCustomerInfo"],[128,25,125,23,"getCustomerInfo"],[128,26,125,23],[128,28,125,56],[129,6,126,4],[129,10,126,8],[130,8,127,6],[130,15,127,13],[130,21,127,19,"Purchases"],[130,30,127,28],[130,31,127,28,"default"],[130,38,127,28],[130,39,127,29,"getCustomerInfo"],[130,54,127,44],[130,55,127,45],[130,56,127,46],[131,6,128,4],[131,7,128,5],[131,8,128,6],[131,15,128,13,"error"],[131,20,128,18],[131,22,128,20],[132,8,129,6,"console"],[132,15,129,13],[132,16,129,14,"error"],[132,21,129,19],[132,22,129,20],[132,43,129,41],[132,45,129,43,"error"],[132,50,129,48],[132,51,129,49],[133,8,130,6],[133,15,130,13],[133,19,130,17],[134,6,131,4],[135,4,132,2],[136,2,133,0],[136,3,133,1],[137,0,133,2],[137,3]],"functionMap":{"names":["<global>","initialize","getOfferings","purchasePackage","restorePurchases","checkSubscription","getCustomerInfo"],"mappings":"AAA;ECgB;GDiB;EEK;GFQ;EGK;GHa;EIK;GJS;EKK;GLoC;EMK;GNO"},"hasCjsExports":false},"type":"js/module"}]}